# ğŸ“„ GitHub Actions Workflow Ù„Ù„Ù†Ø³Ø® Ø§Ù„ÙŠØ¯ÙˆÙŠ
# Ø§Ù†Ø³Ø® Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ Ø¥Ù„Ù‰ .github/workflows/nodejs-ci.yml Ø¹Ø¨Ø± Ù…ÙˆÙ‚Ø¹ GitHub

name: Node.js CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
      # ğŸ›ï¸ Ø³Ø­Ø¨ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
      - name: Checkout code
        uses: actions/checkout@v4

      # ğŸ› ï¸ ØªØ«Ø¨ÙŠØª Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'

      # ğŸ“¦ ØªØ«Ø¨ÙŠØª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯Ø§Øª
      - name: Install dependencies
        run: npm install

      # âœ… ÙØ­Øµ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      - name: Check DB
        run: npm run db:check

      # â™»ï¸ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
      - name: Reset DB
        run: npm run db:reset

      # ğŸ§ª ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª (Ù„Ùˆ Ø£Ø¶ÙÙ†Ø§ Jest Ù„Ø§Ø­Ù‚Ù‹Ø§)
      - name: Run tests
        run: |
          echo "No tests yet - add Jest or Mocha later"